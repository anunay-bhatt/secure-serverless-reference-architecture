# Demo Secure Serverless App - Vulnerability management system (VMS)

This repo contains Terraform AWS configuration for deploying a demo serverless application.

VMS is a Vulnerability API service which provides secure API based access to the vulnerability database which is generated by threat monitoring services like Nessus, CloudAware, etc. The customers of VMS are the authenticated clients which want to get easy access to their vulnerabilities and its related metadata. Admin customers like threat monitoring services create the vulnerability data and post it to VMS. 

## Architecture and Infrastructural components

The service uses AWS serverless components and the infratructure that can be deployed via Terraform. Below is a simple architecture:

## Integrated Security Controls

Table here with "Security Area" and "Security Control"


<table>
    <thead>
        <tr>
            <th>Security Area</th>
            <th>Security Control</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td rowspan=3>IAM</td>
            <td>Authentication is enabled via digital certificates using mutual TLS (mTLS)</td>
        </tr>
        <tr>
            <td>Lambda Authorizers are used to validate the Organization Unit (OU) field of the client certificate against the resources that that particular cert is allowed to access. Such a mapping is created in DynamoDB</td>
        </tr>
        <tr>
            <td>Least Privilege - Serverless cloud resources only have the least amount of permissions to perform their task and no more. Ergo, in cases of unwanted abuse of these resources, the blast radius would be minimal.</td>
        </tr>
        <tr>
            <td rowspan=5>Network Security</td>
            <td>API Customers can only access the REST API from specific network locations (ip addresses)</td>
        </tr>
        <tr>
            <td>Encryption in transit with TLS must be enabled on the API endpoint and only secure TLS protocol and cipher version must be used</td>
        </tr> 
        <tr>
            <td>The default API endpoint must be disabled so that the TLS or mTLS controls on the custom domain are not bypassed by using the default domain</td>
        </tr> 
        <tr>
            <td>Serverless cloud backend resources must not be publicly accessible. Configuration mistakes like these can inadvertently expose the backend data of serverless apps</td>
        </tr> 
         <tr>
            <td>For inter-communication between services, if not configured otherwise, the traffic is routed via public Internet which seems rather unnecessary risk as these services are most probability are internal to your design. In such cases and as applicable with each cloud provider, it is advisable to use private endpoints so that traffic to serverless services be kept on cloud service provider's backbone network rather than Internet at large. Endpoint policy must be setup to only network access to a specific resource via the private endpoint</td>
        </tr> 
        <tr>
            <td rowspan=2>Code SecurityÂ Hygiene</td>
            <td>API endpoints must have API throttling limits so that your API is not overwhelmed with too many requests and does not become non-functional.</td>
        </tr>
         <tr>
            <td>Test</td>
        </tr> 
         <tr>
            <td rowspan=2>Data Protection</td>
            <td>Backup of DynamoDB</td>
        </tr>
    </tbody>
</table>


